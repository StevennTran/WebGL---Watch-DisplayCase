<!DOCTYPE html>
<html>
    <head>
        <title> CP411 Final Project</title>
        <meta charset = UTF-8>
        <style>
            body{margin: 0;}
            canvas {width: 100%; height: 100%;}
        </style>
    </head>

    <body>

        <body>
            <script src="libs/three.js"></script>
            <script src="libs/GLTFLoader.js"></script>
            <script src="libs/OBJLoader.js"></script>
            <script src="libs/OrbitControls.js"></script>
        </body>

        <script>
            let scene, camera, renderer, controls
            const x_axis = new THREE.Vector3(1,0,0);
            const y_axis = new THREE.Vector3(0,1,0);
            const z_axis = new THREE.Vector3(0,0,1);
            function init() {
                const load0 = new THREE.TextureLoader();
                scene = new THREE.Scene();
                scene.background = new THREE.Color(0x000000)

                renderer = new THREE.WebGLRenderer({antialias:true});
                renderer.setSize(window.innerWidth, window.innerHeight);
                document.body.appendChild(renderer.domElement);

                camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
                camera.lookAt(0,0,0)

                controls = new THREE.OrbitControls(camera, renderer.domElement);

                camera.position.set(0,30,0);
                controls.update();

                aLight = new THREE.AmbientLight(0x404040, 10);
                scene.add(aLight)

                directionalLight = new THREE.DirectionalLight(0x404040, 10)
                directionalLight.position.set(0,1,0);
                directionalLight.castShadow = true;
                scene.add(directionalLight);

                // light = new THREE.PointLight(0xc4c4c4,10);
                // light.position.set(0,300,500);
                // scene.add(light);
                // light2 = new THREE.PointLight(0xc4c4c4,10);
                // light2.position.set(500,100,0);
                // scene.add(light2);
                // light3 = new THREE.PointLight(0xc4c4c4,10);
                // light3.position.set(0,100,-500);
                // scene.add(light3);
                // light4 = new THREE.PointLight(0xc4c4c4,10);
                // light4.position.set(-500,300,500);
                // scene.add(light4);
                
                const y_axis = new THREE.Vector3(0,1,0);
                var loader = new THREE.GLTFLoader();
                loader.load("/assets/watch1/scene.gltf", function(gltf) {
                    gltf.scene.scale.set(0.25,0.25,0.25);
                    gltf.scene.position.set(-10,0,0);
                    gltf.scene.rotateOnAxis(y_axis,180*(Math.PI/180));
                    
                    scene.add(gltf.scene);
                    renderer.render(scene,camera);
            
                });

                var loader2 = new THREE.GLTFLoader();
                loader2.load("/assets/watch2/scene.gltf", function(gltf) {
                    gltf.scene.scale.set(6,6,6);
                    gltf.scene.position.set(10,5.5,0);

                    scene.add(gltf.scene);
                    renderer.render(scene,camera);

                });

                // var material = new THREE.MeshPhongMaterial({map: map});

                var loader3 = new THREE.GLTFLoader();
                loader3.load("/assets/watch3/scene.gltf", function(gltf) {
                    gltf.scene.scale.set(1,1,1);
                    gltf.scene.position.set(0,0,-10);
                    gltf.scene.rotateOnAxis(x_axis,270*(Math.PI/180));
                    
                    scene.add(gltf.scene);
                    renderer.render(scene,camera);

                });

            }
            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.clear()
                renderer.render(scene, camera);
            }
            init();
            animate();
        </script>
    </body>


</html>